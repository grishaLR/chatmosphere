# Server
PORT=3000
HOST=localhost
NODE_ENV=development

# Database
DATABASE_URL=postgres://protoimsg:localdev@localhost:5433/protoimsg

# atproto
JETSTREAM_URL=wss://jetstream2.us-east.bsky.network/subscribe
PUBLIC_API_URL=https://public.api.bsky.app

# OAuth (required for auth)
OAUTH_CLIENT_ID=
OAUTH_REDIRECT_URI=http://localhost:3000/api/auth/callback

# Redis (optional — falls back to in-memory stores when absent)
# REDIS_URL=redis://localhost:6379

# CORS (comma-separated for multiple origins)
CORS_ORIGIN=http://localhost:5173
# Production example:
# CORS_ORIGIN=https://your-frontend.example.com

# Sentry (optional — error tracking disabled when absent)
# SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0

# Logging (optional — defaults: info in production, debug in development)
# LOG_LEVEL=info

# DB pool (optional — sensible defaults)
# DB_POOL_MAX=20
# DB_IDLE_TIMEOUT=20
# DB_CONNECT_TIMEOUT=10

# Translation (hybrid: LibreTranslate for standard languages, NLLB for African languages)
# TRANSLATE_ENABLED=true
# LIBRETRANSLATE_URL=http://localhost:5100  # standard languages (en, es, ru, ar, etc.)
# NLLB_URL=http://localhost:6060            # African languages (sw, ha); also fallback for all if no LibreTranslate
# NLLB_API_KEY=                              # shared secret for NLLB auth (set on both server + NLLB service)
# TRANSLATE_RATE_LIMIT=100  # uncached translations/min per user (raise for dev, e.g. 300)

# GIF services (optional — enables /giphy slash command in chat rooms)
# GIPHY_API_KEY=              # get a free key at developers.giphy.com
# KLIPY_API_KEY=              # free key at partner.klipy.com/api-keys

# Global allowlist (when true, only DIDs in global_allowlist table can authenticate)
# REQUIRE_ALLOWLIST=false

# Optional (hardcoded defaults; not yet configurable via env):
# Rate limit: 60 req/min (API), 10 req/min (auth)
# DM retention: 7 days
# Session TTL: 8 hours
